---
layout: post
title:  "å‡½æ•°Apply/Call/Bindçš„ä¸€äº›ç”¨æ³•"
date:   2019-11-13
catalog: true
tags: Javascript
---


## Apply/Call/Bindçš„ç”¨æ³•

> ä¸šåŠ¡æ’¸å¤šäº†ï¼Œæœ€è¿‘çªç„¶æƒ³å›é¡¾ä¸‹applyï¼Œcallï¼Œbindçš„ç”¨æ³•ï¼Œä½›ç³»åœ°è®°å½•ä¸€ä¸‹å“ˆ

---

### ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦Applyï¼ŒCallï¼ŒBindï¼Ÿ

Apply, Call, Bindå±äºfunctionçš„prototypeæ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬æ”¹å˜å‡½æ•°çš„*this*æŒ‡å‘ï¼Œå¹¶é€šè¿‡å¯¹åº”çš„æ ¼å¼ä¼ å‚è¿›è¡Œè°ƒç”¨æ²¡é”™ï¼Œè¿™é‡Œä½ ä¼šé—®*this*æ˜¯å•¥ç©æ„ï¼Ÿ

* Everything in Javascript is an Object. * 

æ¯ä¸ªå¯¹è±¡éƒ½åˆ†é…æœ‰*this*ï¼Œå……å½“å…¶å¯¹è±¡çš„å±æ€§ä»¥åŠæ–¹æ³•å¼•ç”¨ã€‚

 ```js
 let obj = {
  name: "Alex",
  getName: function(friendName) { // ä¸è¦ç”¨ï¼ˆï¼‰=> {}, ç®­å¤´å‡½æ•°ä¼šè®©thisæŒ‡å‘getNameå‡½æ•°å¯¹è±¡ï¼Œthis.nameä¼šæ‰“å°å‡ºundefind
    return `${friendName}, My Name is: ${this.name}`;
  }
}

obj.getName('Bob'); // "Bob, My Name is: Alex"
```

*this.name*æ˜¯objå¯¹è±¡ä¸­nameå­—æ®µçš„å¼•ç”¨ï¼Œ*this*å°±æ˜¯æ•´ä¸ªobjçš„ä¸Šä¸‹æ–‡ï¼ˆcontentï¼‰å¼•ç”¨ï¼Œå¤§æ¦‚è¿™æ ·ç†è§£å§ã€‚ã€‚ã€‚å½“æˆ‘ä»¬å»è®¿é—®ä¸€ä¸ªæ™®é€šå¯¹è±¡å±æ€§æ—¶å€™ï¼Œé€šå¸¸ç”¨æ³•*object.key*, å¦‚ä¸Šè¯‰ä»£ç ï¼Œè°ƒç”¨obj.getName('Bob')æ—¶å€™ï¼Œæ‰“å°å‡ºobjå¯¹è±¡ä¸­çš„nameå±æ€§.

æ­¤æ—¶å¦‚æœæˆ‘æƒ³æ”¹å˜*this*æŒ‡å‘å‘¢ï¼ˆç»ˆäºå›åˆ°ä¸»é¢˜äº†ï¼‰ï¼Œå…ˆè¯´applyï¼Œåé¢ä¼šè¯´ä¸‰è€…çš„åŒºåˆ«
 
```js
 let otherObj = { name: 'Lucas' }
 let obj = {
  name: "Alex",
  getName: function(friendName) {
    return `${friendName}, My Name is: ${this.name}`;
  }
}

obj.getName.apply(otherObj, 'Bob'); // "Bob, My Name is: Lucas"
```

applyä¼ å…¥äº†ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å‚æ•°ä¸º*this*æŒ‡å‘çš„ç›®æ ‡å¯¹è±¡ï¼Œå‰©ä¸‹çš„å‚æ•°ä¸ºå‡½æ•°è°ƒç”¨éœ€è¦ä¼ å…¥çš„å‚æ•°


### äºŒã€ä¸åŒä¹‹å¤„

* Apply, Callæ–¹æ³•ä¼šæ”¹å˜ç›®æ ‡å‡½æ•°çš„thisæŒ‡å‘ï¼Œå¹¶ç«‹åˆ»è°ƒç”¨ï¼ŒBindæ–¹æ³•ä¸ä¼š
* Apply, Callä¼ å‚æ–¹å¼ä¸åŒï¼ŒApplyç›®æ ‡å‡½æ•°çš„å‚æ•°ä»¥æ•°ç»„å½¢å¼ä¼ å…¥: fn.apply(targetContext,[ags]), Callåˆ™æ˜¯ä»¥å•ä¸ªå‚æ•°å½¢å¼: n.call(targetContext, arg1, arg2)


### ä¸‰ã€ä¸€äº›ç¼–ç¨‹æŠ€å·§

é€šè¿‡Applyï¼ŒCall, Bindæ–¹æ³•ï¼Œåœ¨å¯¹è±¡ä¸­å¼•å…¥å…¶ä»–å¯¹è±¡çš„ä¸€äº›ç‰¹æœ‰å±æ€§ï¼ˆå¾ˆé‡è¦ï¼‰, ä¾‹å¦‚arrayç±»å‹å¯ä»¥å¼•å…¥Mathçš„maxæ–¹æ³•æ±‚æœ€å¤§å€¼ï¼Œåœ¨stringå¼•å…¥arrayçš„filteræ–¹æ³•ã€‚

ğŸŒ°å€ŸåŠ©Math.maxåœ¨æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§å€¼

```js
let a = [1, 2, 3, 4]
let max = Math.max.call(null, a)
console.log(max) // 4
```

ğŸŒ°stringç±»å‹é€šè¿‡callæ–¹æ³•å®ç°filter

```js
let letters = "abcd"
let new = Array.property.filter.call(letters, letter => {
    return letter !== a;
})
console.log(new) // ['b', 'c', 'd']
```

### Other

æˆ‘ä»¬åœ¨ç¼–å†™vueç»„ä»¶ï¼Œéƒ½ä¼šåœ¨lifehookï¼ˆcreated/mounted/methods...)ä¸­ç¼–å†™å®šä¹‰å¥½ç›¸å…³é€»è¾‘ã€‚ç»„ä»¶
å¯ä»¥è¢«å¤šå¤„åœ°æ–¹å¤ç”¨ï¼Œè¿™æ—¶å€™vueæºç å†…éƒ¨ä¼šé€šè¿‡`bind(this)`æ–¹å¼ä¿è¯å„ä¸ªç»„ä»¶å…·å¤‡ç‹¬ç«‹çš„æ‰§è¡Œç¯å¢ƒï¼Œé¿å…é€ æˆä¸Šä¸‹æ–‡æ··ä¹±ã€‚

---

å®Œã€‚

### å‚è€ƒæ–‡ç« 

[Call, Apply, Bind - The Basic Usages](https://dev.to/alexantoniades/call-apply-bind-the-basic-usages-5gpl)



